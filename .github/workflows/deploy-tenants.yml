name: Deploy tenants

on:
  push:
    branches:
      - main

permissions:
  contents: read

concurrency:
  group: deploy-tenants-${{ github.ref }}
  cancel-in-progress: true

jobs:
  deploy-nixinx-com:
    name: Deploy nixinx.com
    runs-on: ubuntu-latest
    steps:
      - name: Trigger nixinx.com on Vercel
        run: |
          curl -fsS -X POST "${{ secrets.VERCEL_HOOK_NIXINX_COM }}"

  deploy-nixinx-org:
    name: Deploy nixinx.org
    runs-on: ubuntu-latest
    steps:
      - name: Trigger nixinx.org on Vercel
        run: |
          curl -fsS -X POST "${{ secrets.VERCEL_HOOK_NIXINX_ORG }}"

  deploy-patron:
    name: Deploy patronbarandgrill.com
    runs-on: ubuntu-latest
    steps:
      - name: Trigger patronbarandgrill.com on Vercel
        run: |
          curl -fsS -X POST "${{ secrets.VERCEL_HOOK_PATRON }}"

  deploy-htwindsor:
    name: Deploy HT Windsor
    runs-on: ubuntu-latest
    steps:
      - name: Trigger htwindsor.com on Vercel
        run: |
          curl -fsS -X POST "${{ secrets.VERCEL_HOOK_HTWINDSOR }}"

  deploy-htleamington:
    name: Deploy HT Leamington
    runs-on: ubuntu-latest
    steps:
      - name: Trigger htleamington.com / Hot Tacos Leamington on Vercel
        run: |
          curl -fsS -X POST "${{ secrets.VERCEL_HOOK_HOTLEAMINGTON }}"
